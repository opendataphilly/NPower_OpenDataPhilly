{% extends "template1.html" %}

{% load thumbnail %}
{% load pagination_tags %}

{% block js_ready %}
	<script>
		$(document).ready(function () {
			odp.getTags();
			odp.setupSearchInput();

			odp.makeDialog('.tab_image');
			odp.makeTabs('.tab_container');
		});
	</script>
{% endblock %}

{% block center_container %}

	<div id="idea_header">
		<div id="header_title">Idea Gallery</div>
		<div id="header_description">
			<div>Description copy here Description copy here Description copy here Description copy here Description copy here Description copy here Description copy here
				<a href="" target="_blank">Make a suggestion.</a>
			</div>
		</div>
	</div>
{% autopaginate ideas 3 %}
	<div id="idea_list">
		<ul>
		{% for idea in ideas %}
			<li class="idea_item">
				<div id="idea_title"><a href="/idea/{{idea.id}}/">{{idea}}</a></div>

				<div class="tab_container" id="tab_image_container">
					{% if idea.ideaimage_set.count > 0 %}
					{% for i in idea.ideaimage_set.all %}
					<div class="tab_image" id="tab_image_1">
					  <img src="{% thumbnail i 300x300 autocrop %}" alt="{{i.title}}">
					  <div class="tab_image_detail">{{i.title}} <img src="/static/images/icon_magnify.png"/></div>
					  <div class="dialog" id="dialog1">
						<img src="/media/{{i}}">
					  </div>
					</div>
					{% endfor %}
					<ul class="tab_image_pager">
					  {% for i in idea.ideaimage_set.all %}
					  <li><a href="#tab_image_{{i.id}}" onclick="odp.setDialogImage('{{i}}');return false;"></a></li>
					  {% endfor %}
					</ul>
					{% else %}
					<div class="tab_image" id="tab_image_1">
					  <img src="/static/images/detail_no_image.gif" alt="No Idea Images">
					  <div class="tab_image_detail">No Images</div>
					</div>
					{% endif %}
      			</div>

				<div id="idea_description"><div id="byline">By: {{idea.author}}</div>{{idea.description}}</div>

				<div id="idea_footer">
					<div id="idea_button"><a href="/idea/{{idea.id}}/" class="button">More Info</a></div>
					<div id="idea_date">Posted: <span>{{idea.created_by_date|date:"M d, Y"}}</span></div>

				</div>


			</li>
		{% endfor %}
		</ul>
	</div>

	<div id="pager">{% paginate %}</div>

{% endblock %}
